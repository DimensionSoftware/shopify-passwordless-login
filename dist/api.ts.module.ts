import n from"node-fetch";var t=n=>encodeURIComponent(n).replace(/[!'()*]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`);function r(n,r){return r.encode?r.strict?t(n):encodeURIComponent(n):n}var o=function(t){return{social:function(n){return"https://"+t+".myshopify.com/apps/dimensionauth/"+n+"/1?native=1"},passwordless:function(o){try{return Promise.resolve(n("https://"+t+".myshopify.com/apps/dimensionauth/passwordless?"+((n,t)=>{if(!n)return"";const o=function(n){switch(n.arrayFormat){case"index":return t=>(o,e)=>{const a=o.length;return void 0===e?o:null===e?[...o,[r(t,n),"[",a,"]"].join("")]:[...o,[r(t,n),"[",r(a,n),"]=",r(e,n)].join("")]};case"bracket":return t=>(o,e)=>void 0===e?o:null===e?[...o,[r(t,n),"[]"].join("")]:[...o,[r(t,n),"[]=",r(e,n)].join("")];case"comma":return t=>(o,e,a)=>null==e||0===e.length?o:0===a?[[r(t,n),"=",r(e,n)].join("")]:[[o,r(e,n)].join(",")];default:return t=>(o,e)=>void 0===e?o:null===e?[...o,r(t,n)]:[...o,[r(t,n),"=",r(e,n)].join("")]}}(t=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},t)),e=Object.keys(n);return!1!==t.sort&&e.sort(t.sort),e.map(e=>{const a=n[e];return void 0===a?"":null===a?r(e,t):Array.isArray(a)?a.reduce(o(e),[]).join("&"):r(e,t)+"="+r(a,t)}).filter(n=>n.length>0).join("&")})({email:o.email,native:1,code:e()+" &nbsp; "+e()+" &nbsp; "+Math.floor(10*Math.random())}))).then(function(n){return n.json()})}catch(n){return Promise.reject(n)}}}};function e(){var n=["a","e","i","o","u"],t=["b","c","d","f","g","h","j","k","l","m","n","p","q","r","s","t","v","w","x","y","z"];return t[Math.floor(Math.random()*t.length)]+n[Math.floor(Math.random()*n.length)]}export{o as login};
//# sourceMappingURL=api.ts.module.ts.map
